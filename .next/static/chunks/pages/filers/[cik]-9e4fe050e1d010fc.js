(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[539],{4809:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/filers/[cik]",function(){return t(1481)}])},1481:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return U},default:function(){return $}});var i=t(5893),n=t(9473),r=t(6741),l=t(8858),a=t(8690);let c=()=>(0,r.xC)({reducer:{[a.Yl.name]:a.Yl.reducer},middleware:e=>e({serializableCheck:!1}),devTools:!0}),o=(0,l.KV)(c);var d=t(7606),m=t(8173),u=t(9008),h=t.n(u),g=t(2918),_=t.n(g);let p=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h(),{children:(0,i.jsx)("title",{children:"404 - Filer not found"})}),(0,i.jsx)(_(),{statusCode:404})]});var f=t(6149),j=t.n(f),x=t(7294),N=t(496),k=t.n(N),v=t(9669),w=t.n(v),E=t(9734),R=t(170),P=t.n(R),S=t(1163),b=t(9697),I=t.n(b);function L(e,s){let t=(0,x.useRef)();(0,x.useEffect)(()=>{t.current=e},[e]),(0,x.useEffect)(()=>{if(null!==s){let e=setInterval(function(){t.current()},s);return()=>clearInterval(e)}},[s])}var M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,[s,t]=(0,x.useState)(".");return L(()=>{t("..."===s?".":s+".")},e),{ellipsis:s}};let F=e=>{let s=e.cik||null,t=e.wait||1e3,n=(0,S.useRouter)(),{ellipsis:r}=M();return(0,x.useEffect)(()=>{setTimeout(()=>{n.push("/filers/"+s)},e.delay||t)},[]),(0,i.jsx)("div",{className:P().reload,children:(0,i.jsxs)("span",{className:[P()["reload-text"],I().className].join(" "),children:["Redirecting ",r]})})};var y=t(8431),C=t(264),T=t.n(C);let A=(e,s)=>w().get(e,{params:{cik:s}}).then(e=>e.data).catch(e=>console.log(e)),O=e=>{e=Number(e);let s=Math.floor(e/86400),t=Math.floor(e%86400/3600),i=Math.floor(e%3600/60),n=Math.floor(e%60);return(s>0?s+(1==s?" Day, ":" Days, "):"")+(t>0?t+(1==t?" Hour, ":" Hours, "):"")+(i>0?i+(1==i?" Minute, ":" Minutes, "):"")+(n>0?n+(1==n?" Second":" Seconds"):"")},Z=e=>{let s=e.cik,{data:t,error:n,isLoading:r}=(0,E.ZP)(["https://content.wallstreetlocal.com/filers/estimate",s],e=>{let[s,t]=e;return A(s,t)},{refreshInterval:1e4}),[l,a]=(0,x.useState)({confirmed:0,estimated:0,status:2}),{ellipsis:c}=M();if(L(()=>{a({...l,estimated:l.estimated-1})},1e3),(0,x.useEffect)(()=>{if(t){let e=null==t?void 0:t.time,s=null==t?void 0:t.status,i={...l,status:s};e!==l.confirmed&&(i.confirmed=i.estimated=e),a(i)}},[t]),r||l.status>0)return(0,i.jsx)("div",{className:T().estimation,children:(0,i.jsxs)("span",{className:[T()["estimation-text"],I().className].join(" "),children:["Estimating Time Remaining ",c]})});if(n)return(0,i.jsx)("div",{className:T().estimation,children:(0,i.jsx)("span",{className:[T()["estimation-text"],I().className].join(" "),children:"Failed to estimate time remaining."})});let o=O(l.estimated);return(0,i.jsx)("div",{className:T().estimation,children:(0,i.jsxs)("span",{className:[T()["estimation-text"],I().className].join(" "),children:[o," ",c]})})};var B=t(1685);let D=e=>{let s=e.logs,t=e.stall||!0,n=e.loading||!1,{ellipsis:r}=M(),l=(0,x.useRef)(null);return(0,x.useEffect)(()=>{l.current.scrollIntoView({behavior:"smooth",block:"end"})},[s]),(0,i.jsxs)("div",{className:j().logs,children:[n?(0,i.jsx)(B.Z,{}):null,s.map((e,s)=>(0,i.jsx)("span",{className:[j().log,I().className].join(" "),children:e},s)),(0,i.jsx)("span",{className:[j().log,I().className].join(" "),children:t?null:r}),(0,i.jsx)("div",{className:j().bottom,ref:l})]})},z=(e,s,t)=>w().get(e,{params:{cik:s,start:t}}).then(e=>({...e.data,status:e.status})).then(e=>e).catch(e=>{let s=e.response.status,t=Error(e.data.message);throw t.status=s,t}),K=e=>{let s=e.cik,t=e.name||null,n=e.persist||!1,[r,l]=(0,x.useReducer)((e,s)=>{if(0===s.length)return e;let t=[...e.logs,...s],i=t.length;return i>100&&t.shift(),{logs:t,count:t.length,wait:!1}},{logs:["Initializing, this may take a while..."],count:0}),[a,c]=(0,x.useState)(!1),[o,d]=(0,x.useState)(!1),{data:m,isLoading:u,error:h}=(0,E.ZP)(a||o?null:["https://content.wallstreetlocal.com/filers/logs",s,r.count],e=>{let[s,t,i]=e;return z(s,t,i)},{refreshInterval:1e4});if((0,x.useEffect)(()=>{if(m)switch(m.status){case 200:l(m.logs||[]),!1==n&&(l(["Filer finished initial load, reloading the page."]),setTimeout(()=>{d(!0)},5e3));break;case 201:l(m.logs||[]),l(["Filer finished up, reloading the page."]),d(!0);case 202:l(m.logs||[])}},[m]),h)switch(h.status){case 503:c(!0),setTimeout(()=>{c(!1)});break;case 404:l(["Logs not found, try reloading the page."])}return o?(0,i.jsx)(F,{cik:s,delay:0}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:[j().progress,k().className].join(" "),children:[(0,i.jsxs)("div",{className:j().header,children:[(0,i.jsxs)("div",{className:j()["main-header"],children:[(0,i.jsx)("span",{children:"Building Filer"}),(0,i.jsx)(y.Z,{cik:s})]}),(0,i.jsx)("div",{className:j()["sub-header"],children:t?(0,i.jsx)("span",{children:t}):null})]}),(0,i.jsx)(D,{loading:u,logs:r.logs})]}),n?null:(0,i.jsx)(Z,{cik:s})]})};var Y=t(1197),H=t.n(Y),W=t(1664),X=t.n(W),J=JSON.parse('[{"title":"Berkshire Hathaway Inc.","cik":"1067983"},{"title":"Blackrock Inc.","cik":"1364742"},{"title":"Scion Asset Management, LLC","cik":"1649339"},{"title":"Altimeter Capital Management, LP","cik":"1541617"},{"title":"Bridgewater Associates, LP","cik":"1350694"}]'),V=JSON.parse('[{"title":"State Street Corp","cik":"93751"},{"title":"Northern Trust Corporation","cik":"73124"},{"title":"Charles Schwad Investment Management Inc","cik":"884546"},{"title":"Dimensiona Fund Advisors LP","cik":"354204"},{"title":"Ameriprise Financial Inc","cik":"820027"}]');let G=e=>{let s=e.variant||"default",[t,n]=(0,x.useState)(!1);return(0,x.useEffect)(()=>(window.addEventListener("scroll",()=>{n(!0)},!0),()=>window.removeEventListener("scroll",()=>{},!0)),[]),(0,i.jsxs)("div",{className:[H().recommended,"homepage"===s&&t?H()["recommended-slide-up"]:"","homepage"===s?H()["recommended-homepage"]:""].join(" "),children:[(0,i.jsx)("span",{className:[H()["recommended-title"],k().className].join(" "),children:"Popular Filers"}),(0,i.jsxs)("div",{className:[H()["recommended-lists"],k().className].join(" "),children:[(0,i.jsxs)("div",{className:H()["recommended-list"],children:[(0,i.jsx)(X(),{href:"/recommended/top",children:(0,i.jsx)("span",{className:H()["list-title"],children:"Most Assets"})}),(0,i.jsx)("ul",{children:V.map(e=>(0,i.jsx)("li",{className:H()["recommended-item"],children:(0,i.jsx)(X(),{href:"/filers/".concat(e.cik),children:(0,i.jsx)("span",{children:e.title})})}))})]}),(0,i.jsxs)("div",{className:H()["recommended-list"],children:[(0,i.jsx)(X(),{href:"/recommended/searched",children:(0,i.jsx)("span",{className:H()["list-title"],children:"Most Searched"})}),(0,i.jsx)("ul",{children:J.map(e=>(0,i.jsx)("li",{className:H()["recommended-item"],children:(0,i.jsx)(X(),{href:"/filers/".concat(e.cik),children:(0,i.jsx)("span",{children:e.title})})}))})]})]})]})},q=e=>{let s=e.cik||null,t=e.persist;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h(),{children:(0,i.jsx)("title",{children:"Building..."})}),(0,i.jsx)(K,{cik:s,persist:t}),(0,i.jsx)(G,{})]})},Q=e=>{let s=e.query,t=e.cik,n=e.persist;return s.building||n?(0,i.jsx)(q,{cik:t,persist:n}):s.ok?(0,i.jsx)(m.Z,{cik:t}):s.error?(0,i.jsx)(p,{}):void 0};Q.getLayout=function(e){let{Component:s,...t}=e,{store:r,props:l}=o.useWrappedStore(t),{cik:a}=l.pageProps,c={...r,filer:{...r.filer,cik:a}};return(0,i.jsx)(d.Z,{children:(0,i.jsx)(n.zt,{store:c,children:(0,i.jsx)(s,{...l.pageProps})})})};var U=!0,$=Q},264:function(e){e.exports={estimation:"Estimation_estimation__Yp_47","estimation-text":"Estimation_estimation-text__kcKMI"}},6149:function(e){e.exports={progress:"Progress_progress__MDnWj",header:"Progress_header__moKzc","main-header":"Progress_main-header__077Dv","sub-header":"Progress_sub-header__t2o9o",logs:"Progress_logs__LGX_W",log:"Progress_log__NKHDt",estimation:"Progress_estimation__6fuJ7"}},1197:function(e){e.exports={recommended:"Recommended_recommended__rzhcg","recommended-lists":"Recommended_recommended-lists__SLx29","list-title":"Recommended_list-title__N6GOI","recommended-item":"Recommended_recommended-item__sb79I","recommended-homepage":"Recommended_recommended-homepage__97Ol9","recommended-slide-up":"Recommended_recommended-slide-up___kVZy","recommended-title":"Recommended_recommended-title__urtYN","recommended-list":"Recommended_recommended-list__AaL8W",suggestion:"Recommended_suggestion___Al_X","suggestion-title":"Recommended_suggestion-title__EB0p5","suggestion-ids":"Recommended_suggestion-ids__upT2w","suggestion-description":"Recommended_suggestion-description__4OiY3","slide-up":"Recommended_slide-up__6aKg4"}}},function(e){e.O(0,[982,173,774,888,179],function(){return e(e.s=4809)}),_N_E=e.O()}]);